import{u as f,a as k,b,j as s,I as n,H as S,A as T,T as u,S as v,B as c,c as C,d as l}from"./index-BnQnY9EU.js";import{u as y,C as g,t as B}from"./index-DBvPQqYV.js";import{l as D}from"./constant-DlLz-PDG.js";import{l as I}from"./type-D8LRyJ7I.js";const L=()=>{var t,a;const r=f(),{login:h,setToken:p}=k(),{register:o,handleSubmit:m,setError:d,formState:{errors:i}}=y({resolver:B(I),values:D}),{mutate:x,isPending:E}=b(),j=m(A=>{x(A,{onSuccess(e){h(e.user),p(e.accessToken,e.expiresIn),r("/")},onError(e){d("password",{message:e.error})}})});return s.jsx(n,{height:`calc(100vh - ${S}px)`,children:s.jsxs(T,{onSubmit:j,children:[s.jsx(u,{variant:"h6",fontWeight:"bold",textAlign:"center",children:"ĐĂNG NHẬP"}),s.jsxs(v,{flexDirection:"column",gap:3,marginTop:4,children:[s.jsx(g,{label:"Email hoặc Username",errorMsg:(t=i.identifier)==null?void 0:t.message,registerProps:o("identifier")}),s.jsx(g,{label:"Mật khẩu",type:"password",errorMsg:(a=i.password)==null?void 0:a.message,registerProps:o("password")})]}),s.jsx(c,{marginTop:4,children:s.jsx(C,{fullWidth:!0,variant:"contained",type:"submit",disabled:E,children:"Đăng nhập"})}),s.jsxs(c,{marginTop:4,children:[s.jsxs(n,{gap:1,children:[s.jsx(u,{children:"Bạn chưa có tài khoản?"}),s.jsx(l,{onClick:()=>r("/signup"),children:"Đăng ký!"})]}),s.jsx(n,{children:s.jsx(l,{onClick:()=>r("/forgot-password"),children:"Quên mật khẩu?"})})]})]})})};export{L as default};
