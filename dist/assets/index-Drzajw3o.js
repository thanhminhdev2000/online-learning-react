import{j as s,T as A,S as j,B as u,f}from"./vendor-mui-DDhzcgPb.js";import{u as w,b as P,B as c,I as t,A as b,C as d,T as l,t as k,r as T,c as D}from"./index-DqMWg6aj.js";import{b as S,u as v}from"./vendor-router-B6q9Nvgf.js";import"./vendor-utils-BRiujrGV.js";const M=()=>{var n,i;const{token:m=""}=S(),r=v(),{register:o,handleSubmit:h,formState:{errors:a}}=w({resolver:k(D),values:T}),{mutate:p,isPending:g}=P({token:m}),x=h(E=>{p(E,{onSuccess(e){c.success(e.message),r("/login")},onError(e){c.error(e.error)}})});return s.jsx(s.Fragment,{children:s.jsx(t,{height:"80vh",children:s.jsxs(b,{onSubmit:x,children:[s.jsx(A,{variant:"h6",fontWeight:"bold",textAlign:"center",children:"ĐẶT LẠI MẬT KHẨU"}),s.jsxs(j,{flexDirection:"column",gap:3,marginTop:4,children:[s.jsx(d,{label:"Mật khẩu",type:"password",errorMsg:(n=a.password)==null?void 0:n.message,registerProps:o("password")}),s.jsx(d,{label:"Nhập lại mật khẩu",type:"password",errorMsg:(i=a.confirmPassword)==null?void 0:i.message,registerProps:o("confirmPassword")})]}),s.jsx(u,{marginTop:4,children:s.jsx(f,{fullWidth:!0,variant:"contained",type:"submit",disabled:g,children:"Xác nhận"})}),s.jsxs(u,{marginTop:4,children:[s.jsx(t,{children:s.jsx(l,{onClick:()=>r("/signup"),children:"Đăng ký tài khoản mới!"})}),s.jsx(t,{children:s.jsx(l,{onClick:()=>r("/forgot-password"),children:"Quên mật khẩu?"})})]})]})})})};export{M as default};
